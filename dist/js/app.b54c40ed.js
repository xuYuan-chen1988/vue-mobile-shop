(function(t){function e(e){for(var a,r,i=e[0],c=e[1],u=e[2],l=0,f=[];l<i.length;l++)r=i[l],Object.prototype.hasOwnProperty.call(s,r)&&s[r]&&f.push(s[r][0]),s[r]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);d&&d(e);while(f.length)f.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],a=!0,i=1;i<n.length;i++){var c=n[i];0!==s[c]&&(a=!1)}a&&(o.splice(e--,1),t=r(r.s=n[0]))}return t}var a={},s={app:0},o=[];function r(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=a,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)r.d(n,a,function(e){return t[e]}.bind(null,a));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=e,i=i.slice();for(var u=0;u<i.length;u++)e(i[u]);var d=c;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"031d":function(t,e,n){},"0cf7":function(t,e,n){},"104e":function(t,e,n){},"11f8":function(t,e,n){"use strict";var a=n("0cf7"),s=n.n(a);s.a},"16fb":function(t,e,n){},"1f14":function(t,e,n){},"342b":function(t,e,n){"use strict";var a=n("3911"),s=n.n(a);s.a},3911:function(t,e,n){},4678:function(t,e,n){var a={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-SG":"cdab","./en-SG.js":"cdab","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-nz":"6f50","./en-nz.js":"6f50","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-tw":"90ea","./zh-tw.js":"90ea"};function s(t){var e=o(t);return n(e)}function o(t){if(!n.o(a,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return a[t]}s.keys=function(){return Object.keys(a)},s.resolve=o,t.exports=s,s.id="4678"},"46b1":function(t,e,n){},"4f87":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("4de4"),n("4160"),n("45fc"),n("a434"),n("159b"),n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app-container"},[n("van-nav-bar",{attrs:{title:"品优购","left-text":t.gobackStr,fixed:""},on:{"click-left":t.goBack}}),n("transition",[n("router-view")],1),n("van-tabbar",{attrs:{route:""}},[n("van-tabbar-item",{attrs:{icon:"wap-home-o",to:"/home"}},[t._v("首页")]),n("van-tabbar-item",{attrs:{icon:"user-o",to:"/member"}},[t._v("会员")]),n("van-tabbar-item",{attrs:{icon:"shopping-cart-o",badge:this.$store.getters.getAllCount,to:"/shopcar",id:"shopCar"}},[t._v("购物车")]),n("van-tabbar-item",{attrs:{icon:"search",to:"/search"}},[t._v("搜索")])],1)],1)},o=[],r={data:function(){return{gobackStr:"<返回"}},created:function(){this.gobackStr="/home"===this.$route.path?"":"<返回"},mounted:function(){},methods:{goBack:function(){this.$router.back()}},components:{},watch:{"$route.path":function(t){this.gobackStr="/home"===t?"":"<返回"}}},i=r,c=(n("f2bd"),n("2877")),u=Object(c["a"])(i,s,o,!1,null,"7b42e2ea",null),d=u.exports,l=n("8c4f"),f=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("van-swipe",{staticClass:"my-swipe",attrs:{autoplay:3e3,"indicator-color":"white"}},t._l(t.images,(function(t,e){return n("van-swipe-item",{key:e},[n("van-image",{attrs:{width:"100%",height:"100%","lazy-load":"",src:t}})],1)})),1),n("van-grid",{attrs:{"column-num":3}},t._l(t.griddata,(function(t){return n("van-grid-item",{key:t.icon,attrs:{to:t.router,icon:t.icon,text:t.text}})})),1)],1)},m=[],p={data:function(){return{images:["https://img.yzcdn.cn/vant/apple-1.jpg","https://img.yzcdn.cn/vant/apple-2.jpg","https://img.yzcdn.cn/vant/apple-3.jpg","https://img.yzcdn.cn/vant/apple-4.jpg"],griddata:[{icon:"location-o",router:"/home/newslist",text:"新闻资讯"},{router:"/home/photolist",icon:"photo-o",text:"图片分享"},{router:"/home/goods/goodslist",icon:"point-gift-o",text:"商品购买"},{icon:"chat-o",text:"留言反馈"},{icon:"video-o",text:"视频专区"},{icon:"envelop-o",text:"联系我们"}]}},created:function(){},mounted:function(){},methods:{}},h=p,g=(n("eb0f"),Object(c["a"])(h,f,m,!1,null,"79393e36",null)),b=g.exports,v=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"member-container"},[n("van-form",{on:{submit:t.onSubmit}},[n("van-field",{attrs:{name:"用户名",label:"用户名",placeholder:"用户名",rules:[{required:!0,message:"请填写用户名"}]},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}}),n("van-field",{attrs:{type:"password",name:"密码",label:"密码",placeholder:"密码",rules:[{required:!0,message:"请填写密码"}],autocomplete:""},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),n("div",{staticStyle:{margin:"16px"}},[n("van-button",{attrs:{round:"",block:"",type:"info","native-type":"submit"}},[t._v("提交")])],1)],1)],1)},j=[],_={data:function(){return{username:"",password:""}},created:function(){},mounted:function(){},methods:{onSubmit:function(t){}}},k=_,w=(n("d28d"),Object(c["a"])(k,v,j,!1,null,"38596441",null)),y=w.exports,x=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"shop_container"},[n("ul",{staticClass:"goods-list"},[n("h3",{directives:[{name:"show",rawName:"v-show",value:t.flag,expression:"flag"}]},[t._v("购物车为空, 快去选购喜欢的商品吧")]),t._l(t.goodslist,(function(e,a){return n("li",{key:e.id,staticClass:"card"},[n("van-switch",{on:{click:function(n){return t.changeChecked(e)}},model:{value:e.checked,callback:function(n){t.$set(e,"checked",n)},expression:"item.checked"}}),n("img",{attrs:{src:e.thumb_path}}),n("div",{staticClass:"box"},[n("h2",[t._v(t._s(e.title))]),n("p",[n("span",[t._v("¥"+t._s(e.sell_price))]),n("van-stepper",{attrs:{min:"1",max:"8"},on:{change:function(n){return t.changeCount(e)}},model:{value:e.count,callback:function(n){t.$set(e,"count",n)},expression:"item.count"}}),n("input",{attrs:{type:"button",value:"删除"},on:{click:function(n){return t.remove(e.id,a)}}})],1)])],1)}))],2),n("van-submit-bar",{attrs:{price:t.totalAmount,"button-text":"提交订单"},on:{submit:t.onSubmit},scopedSlots:t._u([{key:"tip",fn:function(){return[t._v(" 你的收货地址不支持同城送, "),n("span",{on:{click:t.onClickEditAddress}},[t._v("修改地址")])]},proxy:!0}])},[n("van-checkbox",{model:{value:t.checkedAll,callback:function(e){t.checkedAll=e},expression:"checkedAll"}},[t._v("全选")])],1)],1)},C=[],$=(n("a15b"),{data:function(){return{goodslist:[]}},created:function(){this.getGoodsList()},methods:{getGoodsList:function(){var t=this;if(0===this.$store.state.car.length)return!1;var e=[];this.$store.state.car.forEach((function(t){return e.push(t.id)})),this.$http.get("api/goods/getshopcarlist/"+e.join(",")).then((function(e){if(200!==e.data.meta.status)return t.$toast("获取购物车商品失败!");t.goodslist=e.data.data}))},changeChecked:function(t){t.checked=!t.checked,this.$store.commit("updateGoodsChecked",t)},changeCount:function(t){this.$store.commit("updateGoodsInfo",t)},remove:function(t,e){this.$store.commit("removeFormCar",t),this.goodslist.splice(e,1)},onSubmit:function(){},onClickEditAddress:function(){}},computed:{flag:function(){return 0===this.goodslist.length},checkedAll:{get:function(){return 0!==this.goodslist.length&&!this.goodslist.some((function(t){return!1===t.checked}))},set:function(){!1===this.checkedAll?this.goodslist.forEach((function(t){t.checked=!0})):this.goodslist.forEach((function(t){t.checked=!1}))}},totalAmount:function(){var t=0;return this.goodslist.forEach((function(e){!0===e.checked&&(t+=e.sell_price*e.count)})),100*t},totalNumber:function(){var t=0;return this.goodslist.forEach((function(e){!0===e.checked&&(t+=e.count)})),t}}}),O=$,z=(n("73d3"),Object(c["a"])(O,x,C,!1,null,"401454c5",null)),S=z.exports,E=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"search-container"},[n("h1",[t._v("梦里寻他千百度")]),n("van-search",{attrs:{shape:"round",background:"#ccc",placeholder:"请输入搜索关键词"},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})],1)},I=[],R={data:function(){return{value:""}},created:function(){},mounted:function(){},methods:{}},L=R,N=(n("11f8"),Object(c["a"])(L,E,I,!1,null,"4f255f96",null)),P=N.exports,F=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("van-list",{attrs:{finished:t.finished,"finished-text":"没有更多了"},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},t._l(t.newsList,(function(e){return n("router-link",{key:e.id,staticClass:"card",attrs:{to:"/home/newsinfo/"+e.id,tag:"li"}},[n("img",{attrs:{src:e.imageurl}}),n("h3",[t._v(t._s(e.title))]),n("p",[n("span",[t._v("发表时间："+t._s(t._f("dateFormat")(e.add_time)))]),n("span",[t._v("点击: "+t._s(e.click)+"次")])])])})),1)],1)},G=[],A=(n("96cf"),n("1da1")),T={data:function(){return{loading:!1,finished:!0,newsList:[]}},created:function(){this.getNewsList()},mounted:function(){},methods:{getNewsList:function(){var t=this;return Object(A["a"])(regeneratorRuntime.mark((function e(){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$http.get("api/getnewslist");case 2:if(n=e.sent,a=n.data,200===a.meta.status){e.next=6;break}return e.abrupt("return",t.$toast("获取列表失败"));case 6:t.newsList=a.data;case 7:case"end":return e.stop()}}),e)})))()}}},M=T,B=(n("342b"),Object(c["a"])(M,F,G,!1,null,"52c6fd68",null)),D=B.exports,q=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"newsinfo-container"},[n("h3",[t._v("新闻标题id:"+t._s(t.newsinfo.id)+"--"+t._s(t.newsinfo.title))]),n("p",[n("span",[t._v("发表时间:"+t._s(t._f("dateFormat")(t.newsinfo.add_time)))]),n("span",[t._v("点击： "+t._s(t.newsinfo.click)+"次")])]),n("hr"),n("div",{staticClass:"content",domProps:{innerHTML:t._s(t.newsinfo.content)}}),n("comment-box",{attrs:{id:this.id}})],1)},J=[],H=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h3",[t._v("发表评论")]),n("form",{attrs:{action:""}},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.msg,expression:"msg"}],attrs:{maxlength:"120",placeholder:"请输入要BB的内容(最多吐槽120字)"},domProps:{value:t.msg},on:{input:function(e){e.target.composing||(t.msg=e.target.value)}}}),n("van-button",{attrs:{type:"info",size:"large"},on:{click:t.postComment}},[t._v("发表评论")]),n("div",{staticClass:"cmt-list"},t._l(t.comments,(function(e,a){return n("div",{key:a,staticClass:"cmt-item"},[n("div",{staticClass:"cmt-title"},[t._v("第"+t._s(a+1)+"楼 :用户:"+t._s(e.user_name)+" 发表时间:"+t._s(t._f("dateFormat")(e.add_time)))]),n("div",{staticClass:"cmt-content"},[t._v(t._s("undefined"===e.content?"此用户很懒，什么都没说":e.content))])])})),0),n("van-button",{attrs:{type:"danger",size:"large"},on:{click:t.getmore}},[t._v("加载更多")])],1)])},U=[],Y=(n("99af"),n("498a"),{data:function(){return{pageIndex:1,comments:[],msg:""}},created:function(){this.getComments()},mounted:function(){},methods:{getComments:function(){var t=this;return Object(A["a"])(regeneratorRuntime.mark((function e(){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$http.get("api/getcomments/"+t.id);case 2:if(n=e.sent,a=n.data,200===a.status){e.next=6;break}return e.abrupt("return",t.$toast("获取评论失败"));case 6:t.comments=t.comments.concat(a.message);case 7:case"end":return e.stop()}}),e)})))()},getmore:function(){this.pageIndex++,this.getComments()},postComment:function(){var t=this;return Object(A["a"])(regeneratorRuntime.mark((function e(){var n,a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(0!==t.msg.trim().length){e.next=2;break}return e.abrupt("return",t.$toast("请输入内容,不能为空"));case 2:return e.next=4,t.$http.post("api/postcomment/"+t.id,{content:t.msg.trim()});case 4:if(n=e.sent,a=n.data,200===a.meta.status){e.next=8;break}return e.abrupt("return",t.$toast("发表评论失败"));case 8:s={user_name:"匿名用户",add_time:Date.now(),content:t.msg.trim()},t.comments.unshift(s),t.msg="";case 11:case"end":return e.stop()}}),e)})))()}},props:["id"]}),W=Y,K=(n("c0f2"),Object(c["a"])(W,H,U,!1,null,"cbb45614",null)),Q=K.exports,V={data:function(){return{id:this.$route.params.id,newsinfo:{}}},created:function(){this.getNewsInfo()},mounted:function(){},methods:{getNewsInfo:function(){var t=this;return Object(A["a"])(regeneratorRuntime.mark((function e(){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$http.get("api/getnewsinfo/"+t.id);case 2:if(n=e.sent,a=n.data,200===a.meta.status){e.next=6;break}return e.abrupt("return",t.$toast("获取新闻详情失败"));case 6:t.newsinfo=a.data;case 7:case"end":return e.stop()}}),e)})))()}},components:{"comment-box":Q}},X=V,Z=(n("f96f"),Object(c["a"])(X,q,J,!1,null,"e1931fd2",null)),tt=Z.exports,et=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("van-tabs",{attrs:{animated:""},on:{click:t.getPhotoByCateId}},t._l(t.categorages,(function(t){return n("van-tab",{key:t.id,attrs:{title:t.title}})})),1),n("ul",{staticClass:"photo-list"},t._l(t.imageList,(function(e,a){return n("router-link",{key:a,attrs:{to:"photoinfo/"+a,tag:"li"}},[n("van-image",{directives:[{name:"lazy",rawName:"v-lazy",value:e.img_url,expression:"img.img_url"}],key:a,attrs:{src:e.img_url,fit:"fill","lazy-load":!0}}),n("div",{staticClass:"info"},[n("h2",{staticClass:"info-title"},[t._v(t._s(e.title))]),n("p",{staticClass:"info-body"},[t._v(t._s(e.zhaiyao))])])],1)})),1)],1)},nt=[],at={data:function(){return{categorages:[],imageList:[]}},created:function(){this.getAllCategory(),this.getPhotoByCateId(0)},mounted:function(){},methods:{getAllCategory:function(){var t=this;return Object(A["a"])(regeneratorRuntime.mark((function e(){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$http.get("api/getimgcategory");case 2:if(n=e.sent,a=n.data,200===a.meta.status){e.next=6;break}return e.abrupt("return",t.$toast("获取图片分类失败"));case 6:a.data.unshift({title:"全部",id:0}),t.categorages=a.data;case 8:case"end":return e.stop()}}),e)})))()},getPhotoByCateId:function(t,e){var n=this;return Object(A["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,n.$http.get("api/getimages/"+t);case 2:if(a=e.sent,s=a.data,200===s.meta.status){e.next=6;break}return e.abrupt("return",n.$toast("获取图片失败"));case 6:n.imageList=s.data;case 7:case"end":return e.stop()}}),e)})))()}}},st=at,ot=(n("dc59"),Object(c["a"])(st,et,nt,!1,null,"e700e7f2",null)),rt=ot.exports,it=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"photoinfo-container"},[n("h3",[t._v(t._s(t.photoInfo.title))]),n("p",[n("span",[t._v("发表时间:"+t._s(t._f("dateFormat")(t.photoInfo.add_time)))]),n("span",[t._v("点击: "+t._s(t.photoInfo.click)+"次")])]),n("hr"),n("van-grid",{attrs:{border:!1,"column-num":3}},t._l(t.imagelist,(function(e,a){return n("van-grid-item",{key:a,on:{click:function(e){return t.showimage(a)}}},[n("van-image",{attrs:{src:e}})],1)})),1),n("div",{staticClass:"content",domProps:{innerHTML:t._s(t.photoInfo.content)}}),n("hr"),n("cmt-box",{attrs:{id:t.id}})],1)},ct=[],ut=n("28a2"),dt={data:function(){return{id:this.$route.params.id,photoInfo:{},imagelist:[]}},created:function(){this.getPhotoInfo()},mounted:function(){},methods:{getPhotoInfo:function(){var t=this;this.$http.get("api/getimageInfo/"+this.id).then((function(e){if(200!==e.data.meta.status)return t.$toast("获取图片详情失败");t.photoInfo=e.data.data[0],t.imagelist=e.data.data[0].imageurl}))},showimage:function(t){Object(ut["a"])({images:this.imagelist,showIndex:!0,startPosition:t})}},components:{"cmt-box":Q}},lt=dt,ft=(n("b6f8"),Object(c["a"])(lt,it,ct,!1,null,"d8f9fc14",null)),mt=ft.exports,pt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"goods-list"},[t._l(t.goodslist,(function(e,a){return n("div",{key:a,staticClass:"goods-item",on:{click:function(n){return t.goDetail(e.id)}}},[n("img",{attrs:{src:e.img_url}}),n("h2",{staticClass:"title"},[t._v(t._s(e.title))]),n("div",{staticClass:"info"},[n("p",{staticClass:"price"},[n("span",{staticClass:"now"},[t._v("¥"+t._s(e.sellprice))]),n("span",{staticClass:"old"},[t._v("¥"+t._s(e.market_price))])]),n("p",{staticClass:"sell"},[n("span",[t._v("热卖中")]),n("span",[t._v("剩"+t._s(e.stock_quantity)+"件")])])])])})),n("van-button",{attrs:{type:"info",size:"large"},on:{click:t.getmore}},[t._v("加载更多")])],2)},ht=[],gt={data:function(){return{pageindex:1,goodslist:[]}},created:function(){this.getGoodsList()},methods:{getGoodsList:function(){var t=this;return Object(A["a"])(regeneratorRuntime.mark((function e(){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$http.get("api/getgoodslist?pageindex="+t.pageindex);case 2:if(n=e.sent,a=n.data,200===a.meta.status){e.next=6;break}return e.abrupt("return",t.$toast("获取商品列表失败!"));case 6:t.goodslist=t.goodslist.concat(a.data);case 7:case"end":return e.stop()}}),e)})))()},getmore:function(){this.getGoodsList()},goDetail:function(t){this.$router.push({name:"goodsinfo",params:{id:t}})}}},bt=gt,vt=(n("6ad5"),Object(c["a"])(bt,pt,ht,!1,null,"7dcec506",null)),jt=vt.exports,_t=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"goodsinfo-container"},[n("transition",{on:{"before-enter":t.beforeEnter,enter:t.enter,"after-enter":t.afterEnter}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.ballFlag,expression:"ballFlag"}],ref:"ballRef",staticClass:"ball"})]),n("div",{staticClass:"card"},[n("van-swipe",{attrs:{autoplay:3e3,id:"myswipe"}},t._l(t.lunbotu,(function(t,e){return n("van-swipe-item",{key:e},[n("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t,expression:"image"}],attrs:{width:"100%",height:"250px"}})])})),1)],1),n("div",{staticClass:"card"},[n("h3",[t._v(t._s(t.goodsinfo.title))]),n("hr"),n("p",{staticClass:"price"},[t._v(" 市场价: "),n("del",[t._v("¥"+t._s(t.goodsinfo.market_price))]),n("span",{staticClass:"nowprice"},[t._v("销售价：¥"+t._s(t.goodsinfo.sell_price))])]),n("p",{staticClass:"number"},[t._v(" 购买数量： "),n("van-stepper",{attrs:{max:t.goodsinfo.stock_quantity},model:{value:t.number,callback:function(e){t.number=e},expression:"number"}})],1),n("p",{staticClass:"button"},[n("van-button",{attrs:{type:"info"}},[t._v("立即购买")]),n("van-button",{attrs:{type:"danger"},on:{click:t.addToShopCar}},[t._v("加入购物车")])],1)]),n("div",{staticClass:"card"},[n("h3",[t._v("商品参数")]),n("hr"),n("p",[t._v("商品货号："+t._s(t.goodsinfo.goods_no))]),n("p",[t._v("库存情况："+t._s(t.goodsinfo.stock_quantity)+" 件")]),n("p",[t._v("上架时间："+t._s(t._f("dateFormat")(t.goodsinfo.add_time)))]),n("hr"),n("van-button",{attrs:{plain:"",type:"primary",size:"large"},on:{click:function(e){return t.goDesc(t.id)}}},[t._v("图文介绍")]),n("van-button",{attrs:{plain:"",type:"danger",size:"large"},on:{click:function(e){return t.goComment(t.id)}}},[t._v("商品评论")])],1)],1)},kt=[],wt={data:function(){return{id:this.$route.params.id,lunbotu:[],number:1,goodsinfo:{},ballFlag:!1}},created:function(){this.getLunbotu(),this.getGoodsInfo()},mounted:function(){},methods:{getLunbotu:function(){var t=this;this.$http.get("get/getthumimages/"+this.id).then((function(e){if(200!==e.data.meta.status)return t.$toast("获取轮播图数据失败");t.lunbotu=e.data.data}))},getGoodsInfo:function(){var t=this;return Object(A["a"])(regeneratorRuntime.mark((function e(){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$http.get("api/goods/getinfo/"+t.id);case 2:if(n=e.sent,a=n.data,200===a.meta.status){e.next=6;break}return e.abrupt("return",t.$toast("获取商品数据失败!"));case 6:t.goodsinfo=a.data;case 7:case"end":return e.stop()}}),e)})))()},goDesc:function(t){this.$router.push({name:"goodsdesc",params:{id:t}})},goComment:function(t){this.$router.push({name:"goodscomment",params:{id:t}})},addToShopCar:function(){this.ballFlag=!0;var t={id:this.goodsinfo.id,count:this.number,price:this.goodsinfo.sell_price,selected:!0};this.$store.commit("addToCar",t)},beforeEnter:function(t){t.style.transform="translate(0,0)"},enter:function(t,e){t.offsetWidth;var n=this.$refs.ballRef.getBoundingClientRect(),a=document.getElementById("shopCar").getElementsByClassName("van-info")[0].getBoundingClientRect(),s=a.left-n.left,o=a.top-n.top;t.style.transform="translate(".concat(s,"px,").concat(o,"px)"),t.style.transition="all .5s ease",e()},afterEnter:function(t){this.ballFlag=!1},getSelectedCount:function(t){}},watch:{}},yt=wt,xt=(n("a581"),Object(c["a"])(yt,_t,kt,!1,null,"234060c6",null)),Ct=xt.exports,$t=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"desc_container"},[n("h2",[t._v(t._s(t.info.title))]),n("div",{domProps:{innerHTML:t._s(t.info.content)}})])},Ot=[],zt={data:function(){return{info:{}}},created:function(){this.getGoodsDesc()},mounted:function(){},methods:{getGoodsDesc:function(){var t=this;return Object(A["a"])(regeneratorRuntime.mark((function e(){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$http.get("api/goods/goodsdesc/"+t.$route.params.id);case 2:if(n=e.sent,a=n.data,200===a.meta.status){e.next=6;break}return e.abrupt("return",t.$toast("获取图文详情失败"));case 6:t.info=a.data;case 7:case"end":return e.stop()}}),e)})))()}}},St=zt,Et=(n("7772"),Object(c["a"])(St,$t,Ot,!1,null,"4f9bda20",null)),It=Et.exports,Rt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("comment-box")],1)},Lt=[],Nt={data:function(){return{}},created:function(){},mounted:function(){},methods:{},components:{"comment-box":Q}},Pt=Nt,Ft=Object(c["a"])(Pt,Rt,Lt,!1,null,"bb8ef5f2",null),Gt=Ft.exports;a["a"].use(l["a"]);var At=new l["a"]({routes:[{path:"/",redirect:"/home"},{path:"/home",component:b},{path:"/member",component:y},{path:"/shopcar",component:S},{path:"/search",component:P},{path:"/home/newslist",component:D},{path:"/home/newsinfo/:id",component:tt},{path:"/home/photolist",component:rt},{path:"/home/photoinfo/:id",component:mt},{path:"/home/goods/goodslist",component:jt},{path:"/home/goods/goodsinfo/:id",component:Ct,name:"goodsinfo"},{path:"/home/goods/goodsdesc/:id",component:It,name:"goodsdesc"},{path:"/home/goods/goodscomment/:id",component:Gt,name:"goodscomment"}]}),Tt=At,Mt=(n("aede"),n("b970")),Bt=n("343b"),Dt=(n("157a"),n("bc3a")),qt=n.n(Dt),Jt=n("c1df"),Ht=n.n(Jt),Ut=n("2f62");a["a"].use(Ut["a"]);var Yt=JSON.parse(localStorage.getItem("car")||"[]"),Wt=new Ut["a"].Store({state:{car:Yt},mutations:{addToCar:function(t,e){var n=!1;t.car.some((function(t){if(t.id===e.id)return t.count+=parseInt(e.count),n=!0,!0})),n||t.car.push(e),localStorage.setItem("car",JSON.stringify(t.car))},updateGoodsInfo:function(t,e){t.car.some((function(t){if(t.id===e.id)return t.count=parseInt(e.count),!0})),localStorage.setItem("car",JSON.stringify(t.car))},removeFormCar:function(t,e){t.car.some((function(n,a){if(n.id===e)return t.car.splice(a,1),!0})),localStorage.setItem("car",JSON.stringify(t.car))},updateGoodsChecked:function(t,e){t.car.some((function(t){if(t.id===e.id)return t.checked=e.checked,!0})),localStorage.setItem("car",JSON.stringify(t.car))}},getters:{getAllCount:function(t){var e=0;return t.car.forEach((function(t){e+=t.count})),e}}});qt.a.defaults.baseURL="https://www.fastmock.site/mock/3be3711af23d9c866f843cc57a53d4cc/mobile",qt.a.defaults.headers.post["Content-Type"]="application/json;charset=UTF-8",a["a"].prototype.$http=qt.a,a["a"].use(Mt["a"]),a["a"].use(Bt["a"],{lazyComponent:!0}),a["a"].config.productionTip=!1,a["a"].filter("dateFormat",(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"YYYY-MM-DD HH-MM-SS";return Ht()(t).format(e)})),new a["a"]({router:Tt,store:Wt,render:function(t){return t(d)}}).$mount("#app")},"57ad":function(t,e,n){},6187:function(t,e,n){},"6ad5":function(t,e,n){"use strict";var a=n("e7c8"),s=n.n(a);s.a},"73d3":function(t,e,n){"use strict";var a=n("1f14"),s=n.n(a);s.a},7772:function(t,e,n){"use strict";var a=n("16fb"),s=n.n(a);s.a},a581:function(t,e,n){"use strict";var a=n("4f87"),s=n.n(a);s.a},aaf7:function(t,e,n){},aede:function(t,e,n){},b6f8:function(t,e,n){"use strict";var a=n("104e"),s=n.n(a);s.a},b807:function(t,e,n){},c0f2:function(t,e,n){"use strict";var a=n("aaf7"),s=n.n(a);s.a},d28d:function(t,e,n){"use strict";var a=n("46b1"),s=n.n(a);s.a},dc59:function(t,e,n){"use strict";var a=n("6187"),s=n.n(a);s.a},e7c8:function(t,e,n){},eb0f:function(t,e,n){"use strict";var a=n("031d"),s=n.n(a);s.a},f2bd:function(t,e,n){"use strict";var a=n("57ad"),s=n.n(a);s.a},f96f:function(t,e,n){"use strict";var a=n("b807"),s=n.n(a);s.a}});
//# sourceMappingURL=app.b54c40ed.js.map